(this["webpackJsonpreact-quiz-app"]=this["webpackJsonpreact-quiz-app"]||[]).push([[0],{23:function(e,t,n){e.exports={drawer:"drawer_drawer__1dvXP",close:"drawer_close__bo4rX",active:"drawer_active__2QjXH"}},24:function(e,t,n){e.exports={input:"input_input__2p_s3",invalid:"input_invalid__q_Si_",valid:"input_valid__UrmtC",error:"input_error__3zMvB"}},27:function(e,t,n){e.exports={"menu-toggle":"menu-toggle_menu-toggle__2xRPe",opened:"menu-toggle_opened__1XPLd"}},30:function(e,t,n){e.exports={quiz:"quiz_quiz__2rimX","quiz-wrapper":"quiz_quiz-wrapper__2KAD1"}},31:function(e,t,n){e.exports={"active-quiz":"active-quiz_active-quiz__2jBm2","active-quiz-answers":"active-quiz_active-quiz-answers___Z1FG","active-quiz-question":"active-quiz_active-quiz-question__3lxj6"}},32:function(e,t,n){e.exports={"answer-item":"answer-item_answer-item__1FTkK",success:"answer-item_success__UwD3Z",error:"answer-item_error__1vzwO"}},33:function(e,t,n){e.exports={"finished-quiz-list":"finished-quiz_finished-quiz-list__13e3Y",success:"finished-quiz_success__3XeYM",error:"finished-quiz_error__HAkyH"}},34:function(e,t,n){e.exports={button:"button_button__6T0dl",button_primary:"button_button_primary__2ee1c",button_success:"button_button_success__2KVly"}},35:function(e,t,n){e.exports={"loader-wrapper":"loader_loader-wrapper__3LyiG",loader:"loader_loader__3X-6w"}},48:function(e,t,n){e.exports={layout:"layout_layout__3y065"}},49:function(e,t,n){e.exports={backdrop:"backdrop_backdrop__3yQjq"}},51:function(e,t,n){e.exports={"answers-list":"answers-list_answers-list__iy5eD"}},52:function(e,t,n){e.exports={"quiz-creator":"quiz-creator_quiz-creator__2devR"}},53:function(e,t,n){e.exports={select:"select_select__s4OG3"}},54:function(e,t,n){e.exports={"quiz-list":"quiz-list_quiz-list__i88z7"}},55:function(e,t,n){e.exports={auth:"auth_auth__1d3sn"}},57:function(e,t,n){e.exports=n(86)},66:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),u=n.n(i),o=n(9),c=n(13),l=n(3),s=n(2),m={quizes:[],loading:!0,error:null,activeQuestion:0,stateAnswer:null,isFinished:!1,results:{},quiz:[]},d=n(56),f={quiz:[]},v={token:null},p=Object(c.c)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUIZES_START":return Object(s.a)({},e,{loading:!0});case"FETCH_QUIZES_SUCCESS":return Object(s.a)({},e,{loading:!1,quizes:t.quizes});case"FETCH_QUIZES_ERROR":return Object(s.a)({},e,{error:t.error});case"FETCH_QUIZE_SUCCESS":return Object(s.a)({},e,{quiz:t.quiz,loading:!1});case"SET_QUIZ":return Object(s.a)({},e,{stateAnswer:t.stateAnswer,results:t.results});case"NEXT_QUIZ":return Object(s.a)({},e,{activeQuestion:t.activeQuestion,stateAnswer:null});case"QUIZ_FINISHED":return Object(s.a)({},e,{isFinished:!0});case"RETRY_QUIZ":return Object(s.a)({},e,{activeQuestion:0,stateAnswer:null,isFinished:!1,results:{}});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUIZ_QUESTION":return Object(s.a)({},e,{quiz:[].concat(Object(d.a)(e.quiz),[t.item])});case"RESET_QUIZ_CREATION":return Object(s.a)({},e,{quiz:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESS":return Object(s.a)({},e,{token:t.token});case"LOGOUT":return Object(s.a)({},e,{token:null});default:return e}}}),E=n(47),_=(n(66),n(14)),b=n(12),h=n(48),q=n.n(h),z=n(27),g=n.n(z),w=function(e){var t=e.menu,n=e.onMenuToggle,a=[g.a["menu-toggle"],"fa"];return t?(a.push("fa-times"),a.push(g.a.opened)):a.push("fa-bars"),r.a.createElement("i",{className:a.join(" "),onClick:function(){return n()}})},O=n(23),y=n.n(O),C=n(49),j=n.n(C),k=function(e){var t=e.onClick;return r.a.createElement("div",{onClick:function(){return t()},className:j.a.backdrop})},I=function(e){var t=e.menu,n=e.onDrawerClick,a=e.isAuthenticated,i=[y.a.drawer];t||i.push(y.a.close);var u=[{to:"/",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",exact:!0},{to:"/auth",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",exact:!1}];return a&&(u=[{to:"/",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",exact:!0},{to:"/quiz-creator",label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442",exact:!1},{to:"/logout",label:"\u0412\u044b\u0439\u0442\u0438",exact:!1}]),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(k,{menu:t,onClick:n}),r.a.createElement("nav",{className:i.join(" ")},r.a.createElement("ul",null,u.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(o.c,{to:e.to,exact:e.exact,activeClassName:y.a.active,onClick:function(){return n()}},e.label))})))))};var S=Object(l.b)((function(e){return{isAuthenticated:!!e.auth.token}}))((function(e){var t=e.children,n=e.isAuthenticated,i=Object(a.useState)(!1),u=Object(b.a)(i,2),o=u[0],c=u[1];return r.a.createElement("div",{className:q.a.layout},r.a.createElement(I,{menu:o,onDrawerClick:function(){c(!1)},isAuthenticated:n}),r.a.createElement(w,{onMenuToggle:function(){c(!o)},menu:o}),r.a.createElement("main",null,t))})),x=n(30),Q=n.n(x),T=n(31),A=n.n(T),U=n(51),N=n.n(U),F=n(32),R=n.n(F),Z=function(e){var t=e.answer,n=(e.id,e.state),a=[R.a["answer-item"]];return n&&a.push(R.a[n]),r.a.createElement("span",{className:a.join(" ")},t)},D=function(e){var t=e.answers,n=e.onAnswerClick,a=e.state;return r.a.createElement("ul",{className:N.a["answers-list"]},t.map((function(e){var t=e.answer,i=e.id;return r.a.createElement("li",{key:i,onClick:function(){return n(i)}},r.a.createElement(Z,{answer:t,state:a?a[i]:null}))})))},M=function(e){var t=e.quiz,n=e.onAnswerClick,a=e.quizLength,i=e.activeQuestion,u=e.state;return r.a.createElement("div",{className:A.a["active-quiz"]},r.a.createElement("p",{className:A.a["active-quiz-question"]},r.a.createElement("span",null,r.a.createElement("strong",null,i+1,"."),"\xa0",t.question),r.a.createElement("span",null,i+1," \u0438\u0437 ",a)),r.a.createElement(D,{answers:t.answers,onAnswerClick:n,state:u}))},H=n(33),V=n.n(H),L=n(34),X=n.n(L),B=function(e){var t=e.children,n=e.type,a=e.onClick,i=e.disabled,u=[X.a.button,X.a["button_"+n]];return r.a.createElement("button",{disabled:i,className:u.join(" "),onClick:function(e){return a?a(e):null}},t)},P=function(e){var t=e.quiz,n=e.results,a=e.onRetry,i=Object.keys(n).reduce((function(e,t){return"success"===n[t]&&e++,e}),0);return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0412\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b"),r.a.createElement("ul",{className:V.a["finished-quiz-list"]},t.map((function(e,t){var a=["fa","error"===n[e.id]?"fa-times":"fa-check",V.a[n[e.id]]];return r.a.createElement("li",{key:t},r.a.createElement("strong",null,t+1,". "),"\xa0",e.question,r.a.createElement("i",{className:a.join(" ")}))}))),r.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e ",i," \u0438\u0437 ",t.length),r.a.createElement(B,{onClick:a,type:"primary"},"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"),r.a.createElement(o.b,{to:"/"},r.a.createElement(B,{type:"success"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432")))},G=n(35),J=n.n(G),Y=function(){return r.a.createElement("div",{className:J.a["loader-wrapper"]},r.a.createElement("div",{className:J.a.loader},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},K=n(18),W=n(4),$=n.n(W),ee=n(10),te=n(16),ne=n.n(te),ae=ne.a.create({baseURL:"https://react-quiz-3d8cb.firebaseio.com"});function re(e){return function(t,n){var a=n().quiz;if(a.stateAnswer){var r=Object.keys(a.stateAnswer);if("success"===a.stateAnswer[r])return}var i=a.quiz[a.activeQuestion],u=a.results;+i.rightAnswerId===e?(u[i.id]||(u[i.id]="success"),t(ie(Object(K.a)({},e,"success"),u)),setTimeout((function(){!function(e){return e.activeQuestion+1===e.quiz.length}(a)?t({type:"NEXT_QUIZ",activeQuestion:a.activeQuestion+1}):t({type:"QUIZ_FINISHED"})}),1e3)):(u[i.id]="error",t(ie(Object(K.a)({},e,"error"),u)))}}function ie(e,t){return{type:"SET_QUIZ",stateAnswer:e,results:t}}function ue(e){return{type:"FETCH_QUIZE_SUCCESS",quiz:e}}function oe(){return{type:"FETCH_QUIZES_START"}}function ce(e){return{type:"FETCH_QUIZES_SUCCESS",quizes:e}}function le(e){return{type:"FETCH_QUIZES_ERROR",error:e}}var se=Object(l.b)((function(e){return{error:e.quiz.error,activeQuestion:e.quiz.activeQuestion,stateAnswer:e.quiz.stateAnswer,isFinished:e.quiz.isFinished,results:e.quiz.results,quiz:e.quiz.quiz,loading:e.quiz.loading}}),(function(e){return{fetchQuizById:function(t){return e(function(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){var a,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oe()),t.prev=1,t.next=4,ae.get("/quizes/".concat(e,".json"));case 4:a=t.sent,r=a.data,n(ue(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(le(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},quizAnswerClick:function(t){return e(re(t))},retryQuiz:function(){return e({type:"RETRY_QUIZ"})}}}))((function(e){var t=Object(a.useState)({}),n=Object(b.a)(t,2);n[0],n[1];Object(a.useEffect)((function(){return e.fetchQuizById(e.match.params.id),function(){return e.retryQuiz()}}),[]);return r.a.createElement("div",{className:Q.a.quiz},r.a.createElement("div",{className:Q.a["quiz-wrapper"]},e.loading?r.a.createElement(Y,null):e.isFinished?r.a.createElement(P,{onRetry:e.retryQuiz,results:e.results,quiz:e.quiz}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"),r.a.createElement(M,{quiz:e.quiz[e.activeQuestion],onAnswerClick:function(t){e.quizAnswerClick(t)},quizLength:e.quiz.length,activeQuestion:e.activeQuestion,state:e.stateAnswer}))))})),me=n(52),de=n.n(me),fe=n(24),ve=n.n(fe),pe=function(e){var t=function(e){var t=e.valid,n=e.touched,a=e.shouldValidate;return!t&&n&&a},n=e.type?e.type:"text",a=n+Math.random(),i=[ve.a.input];return t(e)&&i.push(ve.a.invalid),r.a.createElement("div",{className:i.join(" ")},r.a.createElement("label",{htmlFor:a},e.label),r.a.createElement("input",{value:e.value,onChange:e.onChange,id:a,type:n,onBlur:e.onBlur}),t(e)?r.a.createElement("span",{className:ve.a.error},e.errorMessage):null)};pe.defaultProps={errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435!"};var Ee=pe,_e=function(e,t){return Object(s.a)({},e,{validation:t,valid:!t,value:"",touched:!1})};var be=function(e){return e.children},he=n(53),qe=n.n(he),ze=function(e){var t=e.label+Math.random();return r.a.createElement("div",{className:qe.a.select},r.a.createElement("label",{htmlFor:t},e.label),r.a.createElement("select",{id:t,value:e.value,onChange:e.onChange},e.options.map((function(e,t){return r.a.createElement("option",{key:e.text+t,value:e.value},e.text)}))))};function ge(e){return _e({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+e,errorMessage:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",id:e},{required:!0})}function we(){return{question:_e({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0}),option1:ge(1),option2:ge(2),option3:ge(3),option4:ge(4)}}var Oe=Object(l.b)((function(e){return{quiz:e.create.quiz}}),(function(e){return{addQuizQuestion:function(t){return e(function(e){return{type:"ADD_QUIZ_QUESTION",item:e}}(t))},createQuiz:function(){return e(function(){var e=Object(ee.a)($.a.mark((function e(t,n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("https://react-quiz-3d8cb.firebaseio.com/quizes.json",n().create.quiz);case 2:t({type:"RESET_QUIZ_CREATION"});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}}))((function(e){var t=Object(a.useState)({isFormValid:!1,rightAnswerId:1,formControls:we()}),n=Object(b.a)(t,2),i=n[0],u=n[1];var o=r.a.createElement(ze,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:i.rightAnswerId,onChange:function(e){u(Object(s.a)({},i,{rightAnswerId:e.target.value}))},options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return r.a.createElement("div",{className:de.a["quiz-creator"]},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"),r.a.createElement("form",{onSubmit:function(){console.log("submit")}},Object.keys(i.formControls).map((function(e,t){var n=i.formControls[e];return r.a.createElement(be,{key:t},r.a.createElement(Ee,{label:n.label,value:n.value,valid:n.valid,shouldValidate:!!n.validation,touched:n.touched,errorMessage:n.errorMessage,onChange:function(t){return function(e,t){var n=Object(s.a)({},i.formControls),a=Object(s.a)({},n[t]);a.value=e,a.touched=!0,a.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}(a.value,a.validation),n[t]=a;var r=function(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=!0===e[n].valid&&t);return t}(n);u(Object(s.a)({},i,{formControls:n,isFormValid:r}))}(t.target.value,e)}}),0===t?r.a.createElement("hr",null):null)})),o,r.a.createElement(B,{disabled:!i.isFormValid,onClick:function(t){return function(t){t.preventDefault();var n=i.formControls,a=n.question,r=n.option1,o=n.option2,c=n.option3,l=n.option4,s={id:e.quiz.length+1,question:a.value,rightAnswerId:i.rightAnswerId,answers:[{id:r.id,answer:r.value},{id:o.id,answer:o.value},{id:c.id,answer:c.value},{id:l.id,answer:l.value}]};e.addQuizQuestion(s),u({isFormValid:!1,rightAnswerId:1,formControls:we()})}(t)},type:"success"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"),r.a.createElement(B,{disabled:0===e.quiz.length,onClick:function(t){return function(t){t.preventDefault(),u({isFormValid:!1,rightAnswerId:1,formControls:we()}),e.createQuiz()}(t)},type:"primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"))))})),ye=n(54),Ce=n.n(ye);var je=Object(l.b)((function(e){return{quizes:e.quiz.quizes,loading:e.quiz.loading,error:e.quiz.error}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=Object(ee.a)($.a.mark((function e(t){var n,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_QUIZES_START"}),e.prev=1,e.next=4,ae.get("/quizes.json");case 4:n=e.sent,a=[],Object.keys(n.data).forEach((function(e,t){a.push({id:e,name:"\u0422\u0435\u0441\u0442 \u2116"+t+1})})),t(ce(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(le(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=Object(a.useCallback)(e.fetchQuizes,[e.fetchQuizes]);Object(a.useEffect)((function(){t()}),[t]);return r.a.createElement("div",{className:Ce.a["quiz-list"]},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"),e.loading?r.a.createElement(Y,null):r.a.createElement("ul",null,e.quizes.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(o.b,{to:"/quiz/"+e.id},e.name))})))))})),ke=n(55),Ie=n.n(ke);function Se(e){return{type:"AUTH_SUCCESS",token:e}}function xe(e){return function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){n(Qe())}),1e3*e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Qe(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expiresIn"),{type:"LOGOUT"}}var Te=Object(l.b)(null,(function(e){return{auth:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(ee.a)($.a.mark((function a(r){var i,u,o,c,l;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={email:e,password:t,returnSecureToken:!0},u="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCLvaIxcnyZoy_be6BRJ6opkuTv4qrbGOw",n&&(u="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCLvaIxcnyZoy_be6BRJ6opkuTv4qrbGOw"),a.next=5,ne.a.post(u,i);case 5:o=a.sent,c=o.data,l=new Date((new Date).getTime()+1e3*c.expiresIn),localStorage.setItem("token",c.idToken),localStorage.setItem("userId",c.localId),localStorage.setItem("expiresIn",l),r(Se(c.idToken)),r(xe(c.expiresIn));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=Object(a.useState)({isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",valid:!1,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",valid:!1,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",touched:!1,validation:{required:!0,minLength:6}}}}),n=Object(b.a)(t,2),i=n[0],u=n[1];var o=function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.auth(i.formControls.email.value,i.formControls.password.value,!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:Ie.a.auth},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},Object.keys(i.formControls).map((function(e,t){var n=i.formControls[e];return r.a.createElement(Ee,{key:n.type+t,label:n.label,valid:n.valid,touched:n.touched,errorMessage:n.errorMessage,value:n.value,shouldValidate:!!n.validation,onChange:function(t){return function(e,t){var n=Object(s.a)({},i.formControls),a=Object(s.a)({},n[t]);a.value=e.target.value,a.valid=function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()),t.email&&(n=/\S+@\S+\.\S+/.test(e)),t.minLength&&(n=e&&-1===e.indexOf(" ")&&e.length>=6),n}(a.value,a.validation),n[t]=a;var r=!0;Object.keys(n).forEach((function(e){r=n[e].valid&&r})),u({isFormValid:r,formControls:n})}(t,e)},onBlur:function(t){return function(e){var t=Object(s.a)({},i.formControls),n=Object(s.a)({},t[e]);n.touched=!0,t[e]=n;var a=!0;Object.keys(t).forEach((function(e){a=t[e].valid&&a})),u({isFormValid:a,formControls:t})}(e)}})})),r.a.createElement(B,{disabled:!i.isFormValid,onClick:function(t){e.auth(i.formControls.email.value,i.formControls.password.value,!0)},type:"success"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(B,{disabled:!i.isFormValid,onClick:o,type:"primary"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))}));var Ae=Object(l.b)(null,(function(e){return{logout:function(){return e(Qe())}}}))((function(e){return Object(a.useEffect)((function(){e.logout()}),[]),r.a.createElement(_.a,{to:"/"})}));var Ue=Object(_.g)(Object(l.b)((function(e){return{isAuthenticated:!!e.auth.token}}),(function(e){return{autoLogin:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expiresIn"));n<=new Date?e(Qe()):(e(Se(t)),e(xe((n.getTime()-(new Date).getTime())/1e3)))}else e(Qe())}))}}}))((function(e){Object(a.useEffect)((function(){e.autoLogin()}),[]);var t=r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/auth",component:Te}),r.a.createElement(_.b,{path:"/quiz/:id",component:se}),r.a.createElement(_.b,{path:"/",exact:!0,component:je}),r.a.createElement(_.a,{to:"/"}));return e.isAuthenticated&&(t=r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/quiz-creator",component:Oe}),r.a.createElement(_.b,{path:"/quiz/:id",component:se}),r.a.createElement(_.b,{path:"/logout",component:Ae}),r.a.createElement(_.b,{path:"/",exact:!0,component:je}),r.a.createElement(_.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(S,null,t))}))),Ne="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):c.d,Fe=Object(c.e)(p,Ne(Object(c.a)(E.a)));u.a.render(r.a.createElement(l.a,{store:Fe},r.a.createElement(o.a,null,r.a.createElement(Ue,null))),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.c9475c7e.chunk.js.map